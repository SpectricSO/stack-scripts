// ==UserScript==
// @name         StackFocus 2.1
// @namespace    https://github.com/SpectricSO/stack-scripts
// @version      2.1
// @description  Cool stuff
// @author       SpectricSO
// @match        https://stackoverflow.com/*
// @icon         https://www.google.com/s2/favicons?domain=stackoverflow.com
// @grant        none
// ==/UserScript==

!function(){"use strict";$(document).ready(function(){String.prototype.includes=function(e){return-1!=this.indexOf(e)},null!=localStorage.getItem("stack-focus-preferences")||localStorage.setItem("stack-focus-preferences",JSON.stringify({findajob:"show",teamsadvert:"show",oblock:"show",linked:"show",related:"show",hotnetworkq:"show"}));try{var e=JSON.parse(localStorage.getItem("stack-focus-preferences"))}catch(e){console.error("%cStack Focus storage has been corrupted. Enter %clocalStorage.removeItem('stack-focus-preferences');%c into the console to recalibrate storage.","","font-family:Courier","")}const s='<style>.stack-focus-container{z-index:100000;display: flex;align-items: center;justify-content: center;height: 100%;width: 100%;position: fixed;top: 0;left: 0;}.stack-focus{width: 700px; height: fit-content; background-color: white; z-index: 10000000; box-shadow: 0 0 3px black; border-radius: 5px; padding: 2em; font-family: Roboto}.stack-focus .stack-focus-option{position: relative}.stack-focus-option p{position: absolute; top: 5px}.stack-focus .input-group .f-radio-toggle{margin-left: auto}.stack-focus h1{margin-bottom: 5px;}</style> <div class="stack-focus-container"> <div class="stack-focus"> <h1>Focus Mode v2.0</h1> <h3>By: <a href="https://stackoverflow.com/users/14251221">Spectric</a></h3> <div> <div class="stack-focus-option"> <p>Left sidebar Find a Job category:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-1" id="left_sidebar_findajob_on" checked=""> <label for="left_sidebar_findajob_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-1" id="left_sidebar_findajob_off"> <label for="left_sidebar_findajob_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Left sidebar Teams advertisement:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-2" id="left_sidebar_teams_on" checked=""> <label for="left_sidebar_teams_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-2" id="left_sidebar_teams_off"> <label for="left_sidebar_teams_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Overflow Blog + Featured on Meta + Hot Meta Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-3" id="right_sidebar_oblock_on" checked=""> <label for="right_sidebar_oblock_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-3" id="right_sidebar_oblock_off"> <label for="right_sidebar_oblock_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Linked Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-4" id="right_sidebar_linkedposts_on" checked=""> <label for="right_sidebar_linkedposts_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-4" id="right_sidebar_linkedposts_off"> <label for="right_sidebar_linkedposts_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Related Posts:</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-5" id="right_sidebar_relatedposts_on" checked=""> <label for="right_sidebar_relatedposts_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-5" id="right_sidebar_relatedposts_off"> <label for="right_sidebar_relatedposts_off" class="f-label">Hide</label></div></div></div></div><div class="stack-focus-option"> <p>Hot Network Questions</p><div class="input-group"> <div class="grid f-radio-toggle _muted"> <div class="grid--cell"> <input class="js-subscribe" type="radio" name="stack-focus-6" id="right_sidebar_hotnetwork_on" checked=""> <label for="right_sidebar_hotnetwork_on" class="f-label">Show</label></div><div class="grid--cell"> <input class="_off js-unsubscribe " type="radio" name="stack-focus-6" id="right_sidebar_hotnetwork_off"> <label for="right_sidebar_hotnetwork_off" class="f-label">Hide</label></div></div></div></div></div></div></div>';function i(e){e.prop("checked",!0)}function o(){"show"!=e.findajob?($($("li .fs-fine").get(1)).hide(),$("#nav-jobs").hide(),$("#nav-companies").hide(),i($("#left_sidebar_findajob_off"))):($($("li .fs-fine").get(1)).show(),$("#nav-jobs").show(),$("#nav-companies").show()),"show"!=e.teamsadvert?($($(".nav-links").get(2)).hide(),i($("#left_sidebar_teams_off"))):$($(".nav-links").get(2)).show(),"show"!=e.oblock?($('.s-sidebarwidget[data-tracker="cb=1"]').hide(),i($("#right_sidebar_oblock_off"))):$('.s-sidebarwidget[data-tracker="cb=1"]').show(),"show"!=e.linked?($(".sidebar-linked").hide(),i($("#right_sidebar_linkedposts_off"))):$(".sidebar-linked").show(),"show"!=e.related?($(".sidebar-related").hide(),i($("#right_sidebar_relatedposts_off"))):$(".sidebar-related").show(),"show"!=e.hotnetworkq?($("#hot-network-questions").hide(),i($("#right_sidebar_hotnetwork_off"))):$("#hot-network-questions").show()}function a(e){return"show"==e?"hide":"show"}var t;$(document.body).append(s),o(),(t=$(".stack-focus")).hide(),$("input",t).on("click",function(){!function(s){s.includes("left_sidebar_findajob")&&(e.findajob=a(e.findajob)),s.includes("left_sidebar_teams")&&(e.teamsadvert=a(e.teamsadvert)),s.includes("right_sidebar_oblock")&&(e.oblock=a(e.oblock)),s.includes("right_sidebar_linkedposts")&&(e.linked=a(e.linked)),s.includes("right_sidebar_relatedposts")&&(e.related=a(e.related)),s.includes("right_sidebar_hotnetwork")&&(e.hotnetworkq=a(e.hotnetworkq));let i=JSON.stringify(e);localStorage.setItem("stack-focus-preferences",i),e=JSON.parse(i),console.log(e)}($(this).attr("id")),o()}),$(document).on("keyup",function(e){var s=window.event||e;81==s.keyCode&&s.ctrlKey&&(console.log(t),t.fadeToggle())})})}();
